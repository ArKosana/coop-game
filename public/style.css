:root {
  --bg: #050510;
  --panel: #0b0b1a;
  --text: #e8f6ff;
  --muted: #97a0b5;

  --neon1: #00ffff;
  --neon2: #ff00ff;
  --neon3: #39ff14;
  --danger: #ff3b3b;

  --glow-size: 0 0 12px, 0 0 24px, 0 0 48px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html { background: radial-gradient(1200px 800px at 20% 0%, #0b0b24 0%, #050510 50%, #02020a 100%); }
body {
  margin: 0;
  color: var(--text);
  font-family: "DotGothic16", system-ui, Arial, sans-serif;
}

.hidden { display: none !important; }
.centered { min-height: 100vh; display: grid; place-items: center; padding: 24px; }

.brand { display:flex; justify-content:center; align-items:center; padding: 20px 0 0; }
.brand .brand-inner { display:flex; gap: 12px; align-items:center; font-size: 20px; letter-spacing: 1px; }
.glow { color: var(--text); text-shadow: 0 0 4px var(--neon1), 0 0 8px var(--neon1); animation: pulse 2.2s ease-in-out infinite; }
.heart { text-shadow: 0 0 4px var(--neon2), 0 0 12px var(--neon2); animation: pulse 2.2s ease-in-out infinite alternate; }

.title { font-size: 34px; text-align:center; margin: 10px 0 20px; text-shadow: var(--glow-size) var(--neon1); }
.subhead { margin: 0 0 10px; font-size: 18px; color: var(--muted); letter-spacing: 1px; }

.screen { padding: 16px; }
.home-wrap { display: grid; gap: 16px; grid-template-columns: 340px 1fr; max-width: 1100px; margin: 0 auto; }

.btn {
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  padding: 10px 16px;
  border-radius: 14px;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .2s ease;
  letter-spacing: .5px;
}
.btn.big { padding: 16px 22px; font-size: 18px; }
.btn.neon {
  border-color: var(--neon1);
  box-shadow: 0 0 8px var(--neon1), inset 0 0 8px rgba(0,255,255,.25);
  animation: pulse 2.2s ease-in-out infinite;
}
.btn.ghost { border-color: rgba(255,255,255,.08); background: transparent; }
.btn.neon:hover { transform: translateY(-1px) scale(1.02); }
.btn.neon:active { transform: translateY(0) scale(.98); }
.btn.danger { border-color: var(--danger); box-shadow: 0 0 8px var(--danger), inset 0 0 8px rgba(255,59,59,.25); }

.chat-panel {
  background: linear-gradient(180deg, rgba(11,11,26,.7), rgba(11,11,26,.2));
  border: 1px solid rgba(0,255,255,.2);
  border-radius: 18px;
  padding: 12px;
  box-shadow: 0 0 12px rgba(0,255,255,.15);
  height: calc(100dvh - 160px);
  display:flex; flex-direction:column;
}
.chat-log { flex: 1; overflow: auto; padding: 8px; display:flex; flex-direction:column; gap: 8px; }
.chat-bubble {
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  box-shadow: 0 0 10px rgba(0,255,255,.06);
}
.chat-bubble.immu { border-color: var(--neon3); box-shadow: 0 0 10px rgba(57,255,20,.25); }
.chat-bubble.cookie { border-color: var(--neon2); box-shadow: 0 0 10px rgba(255,0,255,.25); }
.chat-input { display:flex; gap: 8px; margin-top:8px; }
.chat-input input {
  flex:1; background:#0e0e20; border:1px solid rgba(255,255,255,.12);
  color:var(--text); border-radius:12px; padding:10px 12px; outline:none;
}

.hub {
  background: linear-gradient(180deg, rgba(11,11,26,.5), rgba(11,11,26,.1));
  border: 1px solid rgba(255,0,255,.2);
  border-radius: 18px; padding: 16px;
  min-height: calc(100dvh - 160px);
  box-shadow: 0 0 14px rgba(255,0,255,.15);
}
.role-grid { display:flex; gap: 16px; justify-content:center; }
.hint { color: var(--muted); margin-top: 10px; text-align:center; }

.game-list { list-style:none; padding:0; margin: 10px 0 0; display:grid; gap: 14px; }
.game-card {
  display:flex; justify-content:space-between; align-items:center;
  padding: 14px; border:1px solid rgba(255,255,255,.12); border-radius:16px;
  background: rgba(255,255,255,.03);
}
.neon-glow { box-shadow: 0 0 14px rgba(255,0,255,.12), inset 0 0 8px rgba(255,0,255,.08); }

.scores { margin-top: 16px; padding: 12px; border-radius: 14px; border: 1px solid rgba(255,255,255,.12); }
.scores-row { display:flex; justify-content:space-between; padding: 6px 0; border-bottom: 1px dashed rgba(255,255,255,.12); }
.scores-row:last-child { border-bottom: none; }

.topbar { display:flex; justify-content:space-between; align-items:center; max-width: 900px; margin: 0 auto 8px; gap: 12px; }
.ttt-grid {
  --size: 94vmin;
  width: var(--size); max-width: 900px;
  aspect-ratio: 1/1; margin: 10px auto;
  display:grid; grid-template-columns: repeat(3, 1fr); gap: 12px;
}
.ttt-cell {
  border: 1px solid rgba(0,255,255,.3);
  border-radius: 16px;
  display:grid; place-items:center;
  font-size: calc(12vmin);
  color: var(--text);
  background: rgba(255,255,255,.03);
  box-shadow: 0 0 12px rgba(0,255,255,.18), inset 0 0 8px rgba(0,255,255,.12);
  cursor: pointer;
  animation: pulse 2.2s ease-in-out infinite;
}
.ttt-cell.disabled { opacity: .6; cursor: not-allowed; }

.floating-chat {
  position: fixed; right: 18px; bottom: 18px; z-index: 40;
  display:flex; align-items:center; gap:8px;
}
.chat-badge {
  background: var(--neon2);
  color: #000;
  padding: 2px 6px;
  border-radius: 999px;
  font-weight: 800;
}

.banner {
  position: fixed; top: 0; left: 50%; transform: translateX(-50%);
  background: rgba(20,20,40,.95);
  padding: 8px 14px; border: 1px solid rgba(0,255,255,.35);
  border-radius: 0 0 12px 12px;
  box-shadow: 0 0 12px rgba(0,255,255,.25);
  z-index: 60;
  overflow:hidden;
  display:flex; align-items:center; height: 44px;
}
.banner-text {
  white-space: nowrap;
  display:inline-block;
  animation: scroll-left 6s linear infinite;
}

.modal {
  position: fixed; inset: 0; display:grid; place-items:center; background: rgba(0,0,0,.55); z-index: 100;
}
.modal-card {
  background: #0c0c1f; border: 1px solid rgba(255,255,255,.15);
  border-radius: 16px; padding: 18px; width: min(92vw, 420px);
}

#confirm-root .confirm-box {
  position: fixed; inset: 0; display:grid; place-items:center; background: rgba(0,0,0,.55); z-index:120;
}
.confirm-card {
  background:#0b0d10; padding:16px; border-radius:12px; text-align:center;
}

@keyframes pulse {
  0% { filter: drop-shadow(0 0 0 rgba(0,255,255,.0)) drop-shadow(0 0 0 rgba(255,0,255,.0)); }
  50% { filter: drop-shadow(0 0 8px rgba(0,255,255,.65)) drop-shadow(0 0 14px rgba(255,0,255,.35)); }
  100% { filter: drop-shadow(0 0 0 rgba(0,255,255,.0)) drop-shadow(0 0 0 rgba(255,0,255,.0)); }
}

@keyframes scroll-left {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

@media (max-width:900px) {
  .home-wrap { grid-template-columns: 1fr; }
  .ttt-grid { --size: 94vmin; width: 94vw; }
}
.lyric-box {
  margin: 12px auto 20px;
  padding: 12px;
  border: 1px dashed rgba(255,255,255,.3);
  border-radius: 12px;
  font-size: 18px;
  text-align: center;
  max-width: 80%;
}
